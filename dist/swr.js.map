{"version":3,"file":"swr.js","mappings":"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","sources":["webpack://SWR/webpack/universalModuleDefinition","webpack://SWR/./src/css/swr.css?df79","webpack://SWR/./src/js/core/EventManager.js","webpack://SWR/./src/js/core/MediaManager.js","webpack://SWR/./src/js/core/Navigation.js","webpack://SWR/./src/js/core/Roll.js","webpack://SWR/./src/js/handlers/AutoplayHandler.js","webpack://SWR/./src/js/handlers/KeyboardHandler.js","webpack://SWR/./src/js/handlers/MouseDragHandler.js","webpack://SWR/./src/js/handlers/TouchHandler.js","webpack://SWR/./src/js/handlers/WheelHandler.js","webpack://SWR/./src/js/index.js","webpack://SWR/./src/js/parsers/ConfigParser.js","webpack://SWR/./src/js/parsers/DataAttributeParser.js","webpack://SWR/./src/js/renderers/HTMLRenderer.js","webpack://SWR/./src/js/renderers/ImageRenderer.js","webpack://SWR/./src/js/renderers/VideoRenderer.js","webpack://SWR/webpack/bootstrap","webpack://SWR/webpack/runtime/compat get default export","webpack://SWR/webpack/runtime/define property getters","webpack://SWR/webpack/runtime/hasOwnProperty shorthand","webpack://SWR/webpack/runtime/make namespace object","webpack://SWR/./src/swr.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SWR\"] = factory();\n\telse\n\t\troot[\"SWR\"] = factory();\n})(this, () => {\nreturn ","// extracted by mini-css-extract-plugin\nexport {};","/**\r\n * EventManager - Handles custom event emission and subscription\r\n */\r\nclass EventManager {\r\n  constructor() {\r\n    this.listeners = {};\r\n  }\r\n\r\n  /**\r\n   * Subscribe to an event\r\n   * @param {string} event - Event name\r\n   * @param {Function} callback - Callback function\r\n   * @returns {Function} Unsubscribe function\r\n   */\r\n  on(event, callback) {\r\n    if (!this.listeners[event]) {\r\n      this.listeners[event] = [];\r\n    }\r\n    this.listeners[event].push(callback);\r\n\r\n    // Return unsubscribe function\r\n    return () => this.off(event, callback);\r\n  }\r\n\r\n  /**\r\n   * Unsubscribe from an event\r\n   * @param {string} event - Event name\r\n   * @param {Function} callback - Callback function to remove\r\n   */\r\n  off(event, callback) {\r\n    if (!this.listeners[event]) return;\r\n\r\n    this.listeners[event] = this.listeners[event].filter((cb) => cb !== callback);\r\n\r\n    // Clean up empty event listeners\r\n    if (this.listeners[event].length === 0) {\r\n      delete this.listeners[event];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Emit an event with data\r\n   * @param {string} event - Event name\r\n   * @param {any} data - Data to pass to listeners\r\n   */\r\n  emit(event, data) {\r\n    if (!this.listeners[event]) return;\r\n\r\n    this.listeners[event].forEach((callback) => {\r\n      try {\r\n        callback(data);\r\n      } catch (error) {\r\n        console.error(`Error in event listener for \"${event}\":`, error);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Remove all listeners for an event\r\n   * @param {string} event - Event name\r\n   */\r\n  clearEvent(event) {\r\n    if (this.listeners[event]) {\r\n      delete this.listeners[event];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove all listeners\r\n   */\r\n  clear() {\r\n    this.listeners = {};\r\n  }\r\n\r\n  /**\r\n   * Get number of listeners for an event\r\n   * @param {string} event - Event name\r\n   * @returns {number} Number of listeners\r\n   */\r\n  getListenerCount(event) {\r\n    return this.listeners[event] ? this.listeners[event].length : 0;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = EventManager;\r\n}\r\n","/**\r\n * MediaManager - Manages media items (add, remove, retrieve)\r\n */\r\nclass MediaManager {\r\n  constructor(eventManager) {\r\n    this.items = [];\r\n    this.eventManager = eventManager;\r\n  }\r\n\r\n  /**\r\n   * Add a new item to the roll\r\n   * @param {Object} item - Item object {type, src/content, ...}\r\n   * @param {number} index - Optional index to insert at\r\n   * @returns {boolean} Success status\r\n   */\r\n  addItem(item, index = null) {\r\n    if (!this.validateItem(item)) {\r\n      console.warn('Invalid item:', item);\r\n      return false;\r\n    }\r\n\r\n    if (index !== null && index >= 0 && index <= this.items.length) {\r\n      this.items.splice(index, 0, item);\r\n    } else {\r\n      this.items.push(item);\r\n    }\r\n\r\n    this.eventManager.emit('itemAdded', { item, index: this.items.indexOf(item) });\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Remove an item by index\r\n   * @param {number} index - Index of item to remove\r\n   * @returns {Object|null} Removed item or null if invalid index\r\n   */\r\n  removeItem(index) {\r\n    if (index < 0 || index >= this.items.length) {\r\n      console.warn('Invalid item index:', index);\r\n      return null;\r\n    }\r\n\r\n    const removed = this.items.splice(index, 1)[0];\r\n    this.eventManager.emit('itemRemoved', { item: removed, index });\r\n    return removed;\r\n  }\r\n\r\n  /**\r\n   * Get item by index\r\n   * @param {number} index - Item index\r\n   * @returns {Object|null} Item or null if invalid index\r\n   */\r\n  getItem(index) {\r\n    if (index < 0 || index >= this.items.length) {\r\n      return null;\r\n    }\r\n    return this.items[index];\r\n  }\r\n\r\n  /**\r\n   * Get all items\r\n   * @returns {Array} Array of all items\r\n   */\r\n  getItems() {\r\n    return [...this.items];\r\n  }\r\n\r\n  /**\r\n   * Get total number of items\r\n   * @returns {number} Total items count\r\n   */\r\n  getItemCount() {\r\n    return this.items.length;\r\n  }\r\n\r\n  /**\r\n   * Update an item at index\r\n   * @param {number} index - Item index\r\n   * @param {Object} updates - Updated properties\r\n   * @returns {boolean} Success status\r\n   */\r\n  updateItem(index, updates) {\r\n    if (index < 0 || index >= this.items.length) {\r\n      console.warn('Invalid item index:', index);\r\n      return false;\r\n    }\r\n\r\n    this.items[index] = { ...this.items[index], ...updates };\r\n    this.eventManager.emit('itemUpdated', { item: this.items[index], index });\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Clear all items\r\n   */\r\n  clear() {\r\n    this.items = [];\r\n    this.eventManager.emit('itemsCleared');\r\n  }\r\n\r\n  /**\r\n   * Validate item object structure\r\n   * @param {Object} item - Item to validate\r\n   * @returns {boolean} Is valid\r\n   */\r\n  validateItem(item) {\r\n    if (typeof item !== 'object' || item === null) {\r\n      return false;\r\n    }\r\n\r\n    const { type } = item;\r\n\r\n    if (!type) {\r\n      console.warn('Item missing \"type\" property');\r\n      return false;\r\n    }\r\n\r\n    if (type === 'video') {\r\n      return item.src !== undefined && item.src !== '';\r\n    }\r\n\r\n    if (type === 'image') {\r\n      return item.src !== undefined && item.src !== '';\r\n    }\r\n\r\n    if (type === 'html') {\r\n      return item.content !== undefined;\r\n    }\r\n\r\n    console.warn(`Unknown item type: ${type}`);\r\n    return false;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = MediaManager;\r\n}\r\n","/**\r\n * Navigation - Handles navigation logic (next, prev, goTo)\r\n */\r\nclass Navigation {\r\n  constructor(eventManager, config) {\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.currentIndex = 0;\r\n    this.totalItems = 0;\r\n  }\r\n\r\n  /**\r\n   * Initialize navigation with total items count\r\n   * @param {number} totalItems - Total number of items\r\n   */\r\n  initialize(totalItems) {\r\n    this.totalItems = totalItems;\r\n    this.currentIndex = 0;\r\n  }\r\n\r\n  /**\r\n   * Go to next item\r\n   * @returns {Object} Navigation result {index, isWrapping, direction}\r\n   */\r\n  next() {\r\n    if (this.totalItems === 0) return { index: this.currentIndex, isWrapping: false, direction: 'up' };\r\n\r\n    let nextIndex = this.currentIndex + 1;\r\n    let isWrapping = false;\r\n\r\n    if (nextIndex >= this.totalItems) {\r\n      if (this.config.loop) {\r\n        nextIndex = 0;\r\n        isWrapping = true;\r\n      } else {\r\n        nextIndex = this.totalItems - 1;\r\n      }\r\n    }\r\n\r\n    const result = this.goTo(nextIndex);\r\n    return {\r\n      index: result,\r\n      isWrapping: isWrapping,\r\n      direction: 'up'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Go to previous item\r\n   * @returns {Object} Navigation result {index, isWrapping, direction}\r\n   */\r\n  prev() {\r\n    if (this.totalItems === 0) return { index: this.currentIndex, isWrapping: false, direction: 'down' };\r\n\r\n    let prevIndex = this.currentIndex - 1;\r\n    let isWrapping = false;\r\n\r\n    if (prevIndex < 0) {\r\n      if (this.config.loop) {\r\n        prevIndex = this.totalItems - 1;\r\n        isWrapping = true;\r\n      } else {\r\n        prevIndex = 0;\r\n      }\r\n    }\r\n\r\n    const result = this.goTo(prevIndex);\r\n    return {\r\n      index: result,\r\n      isWrapping: isWrapping,\r\n      direction: 'down'\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Jump to specific index\r\n   * @param {number} index - Target index\r\n   * @returns {number} New index (clamped to valid range)\r\n   */\r\n  goTo(index) {\r\n    if (this.totalItems === 0) {\r\n      console.warn('No items available for navigation');\r\n      return this.currentIndex;\r\n    }\r\n\r\n    // Clamp index to valid range\r\n    const validIndex = Math.max(0, Math.min(index, this.totalItems - 1));\r\n\r\n    if (validIndex === this.currentIndex) {\r\n      return this.currentIndex;\r\n    }\r\n\r\n    const oldIndex = this.currentIndex;\r\n    this.currentIndex = validIndex;\r\n\r\n    this.eventManager.emit('navigationChanged', {\r\n      oldIndex,\r\n      newIndex: this.currentIndex,\r\n      totalItems: this.totalItems,\r\n    });\r\n\r\n    return this.currentIndex;\r\n  }\r\n\r\n  /**\r\n   * Get current index\r\n   * @returns {number} Current index\r\n   */\r\n  getCurrentIndex() {\r\n    return this.currentIndex;\r\n  }\r\n\r\n  /**\r\n   * Check if at first item\r\n   * @returns {boolean}\r\n   */\r\n  isAtStart() {\r\n    return this.currentIndex === 0;\r\n  }\r\n\r\n  /**\r\n   * Check if at last item\r\n   * @returns {boolean}\r\n   */\r\n  isAtEnd() {\r\n    return this.currentIndex === this.totalItems - 1;\r\n  }\r\n\r\n  /**\r\n   * Check if can go to next\r\n   * @returns {boolean}\r\n   */\r\n  canGoNext() {\r\n    return this.config.loop || !this.isAtEnd();\r\n  }\r\n\r\n  /**\r\n   * Check if can go to previous\r\n   * @returns {boolean}\r\n   */\r\n  canGoPrev() {\r\n    return this.config.loop || !this.isAtStart();\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = Navigation;\r\n}\r\n","/**\r\n * Roll - Core roll logic (positioning, animations)\r\n */\r\nclass Roll {\r\n  constructor(element, eventManager, config) {\r\n    this.element = element;\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.currentIndex = 0;\r\n    this.container = null;\r\n    this.viewport = null;\r\n    this.itemElements = [];\r\n    this.isAnimating = false;\r\n    this.transitionId = null;\r\n  }\r\n\r\n  /**\r\n   * Initialize roll DOM structure\r\n   */\r\n  initialize() {\r\n    this.setupDOM();\r\n    this.setupStyles();\r\n  }\r\n\r\n  /**\r\n   * Setup roll DOM structure\r\n   */\r\n  setupDOM() {\r\n    // Create viewport container\r\n    this.viewport = document.createElement('div');\r\n    this.viewport.className = 'swr-viewport';\r\n\r\n    // Create scrollable container\r\n    this.container = document.createElement('div');\r\n    this.container.className = 'swr-container';\r\n\r\n    // Move existing items to container\r\n    const existingItems = this.element.querySelectorAll('[data-swr-item]');\r\n    existingItems.forEach((item) => {\r\n      this.container.appendChild(item.cloneNode(true));\r\n    });\r\n\r\n    this.viewport.appendChild(this.container);\r\n    this.element.innerHTML = '';\r\n    this.element.appendChild(this.viewport);\r\n\r\n    // Add SWR class to main element\r\n    this.element.classList.add('swr');\r\n\r\n    // Update item elements reference\r\n    this.updateItemElements();\r\n  }\r\n\r\n  /**\r\n   * Setup initial styles\r\n   */\r\n  setupStyles() {\r\n    // Let CSS handle the responsive aspect ratio (16:9 desktop, 9:16 mobile)\r\n    // Only apply inline if it strictly differs from the CSS default or is custom mapped.\r\n    // For now, we rely on the CSS, but we can set a CSS variable if needed in the future.\r\n    this.viewport.style.position = 'relative';\r\n    this.viewport.style.width = '100%';\r\n    // Set aspect ratio directly for modern browsers, letting CSS media queries handle default if not specified.\r\n    // However, if a custom ratio is defined that isn't the default '9:16', we apply it here.\r\n    if (this.config.aspectRatio && this.config.aspectRatio !== '9:16') {\r\n      const [width, height] = this.config.aspectRatio.split(':').map(Number);\r\n      this.viewport.style.aspectRatio = `${width} / ${height}`;\r\n    }\r\n    this.viewport.style.overflow = 'hidden';\r\n\r\n    // Setup container for vertical scrolling (Instagram Reels style)\r\n    this.container.style.position = 'absolute';\r\n    this.container.style.top = '0';\r\n    this.container.style.left = '0';\r\n    this.container.style.width = '100%';\r\n    this.container.style.height = '100%';\r\n    this.container.style.display = 'flex';\r\n    this.container.style.flexDirection = 'column';\r\n    this.container.style.transition = `transform ${this.config.transitionDuration}ms ease-in-out`;\r\n    this.container.style.transform = 'translateY(0)';\r\n  }\r\n\r\n  /**\r\n   * Parse aspect ratio string to numeric value\r\n   * @param {string} ratio - Aspect ratio (e.g., \"9:16\")\r\n   * @returns {number}\r\n   */\r\n  parseAspectRatio(ratio) {\r\n    const [width, height] = ratio.split(':').map(Number);\r\n    return width / height;\r\n  }\r\n\r\n  /**\r\n   * Update item elements reference\r\n   */\r\n  updateItemElements() {\r\n    this.itemElements = Array.from(\r\n      this.container.querySelectorAll('[data-swr-item]')\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Add item element to container\r\n   * @param {number} index - Optional index to insert at\r\n   * @returns {HTMLElement} Created item element\r\n   */\r\n  addItemElement(index = null) {\r\n    const itemElement = document.createElement('div');\r\n    itemElement.setAttribute('data-swr-item', '');\r\n    itemElement.style.flex = '0 0 100%';\r\n    itemElement.style.width = '100%';\r\n    itemElement.style.height = '100%';\r\n    itemElement.style.overflow = 'hidden';\r\n\r\n    if (index !== null && index >= 0 && index < this.container.children.length) {\r\n      this.container.insertBefore(itemElement, this.container.children[index]);\r\n    } else {\r\n      this.container.appendChild(itemElement);\r\n    }\r\n\r\n    this.updateItemElements();\r\n    return itemElement;\r\n  }\r\n\r\n  /**\r\n   * Render item at index\r\n   * @param {number} index - Item index\r\n   * @param {Object} renderer - Renderer instance\r\n   * @param {Object} item - Item data\r\n   */\r\n  renderItem(index, renderer, item) {\r\n    // Create item elements until we have enough\r\n    while (index >= this.itemElements.length) {\r\n      this.addItemElement();\r\n    }\r\n\r\n    if (index < 0 || index >= this.itemElements.length) {\r\n      console.warn('Invalid item index:', index);\r\n      return;\r\n    }\r\n\r\n    this.eventManager.emit('beforeRender', { index, item });\r\n\r\n    const element = this.itemElements[index];\r\n    element.innerHTML = '';\r\n    element.appendChild(renderer.render(item));\r\n\r\n    this.eventManager.emit('afterRender', { index, item });\r\n  }\r\n\r\n  /**\r\n   * Slide to item at index\r\n   * @param {number} targetIndex - Target item index\r\n   * @param {Object} options - Animation options\r\n   * @param {boolean} options.isWrapping - Whether this is a wrap-around navigation\r\n   * @param {string} options.direction - Direction of animation ('up' or 'down')\r\n   */\r\n  slideTo(targetIndex, options = {}) {\r\n    if (targetIndex < 0 || targetIndex >= this.itemElements.length) {\r\n      console.warn('Invalid slide index:', targetIndex);\r\n      return;\r\n    }\r\n\r\n    if (this.isAnimating) {\r\n      console.log(' Animation in progress, ignoring slide request');\r\n      return;\r\n    }\r\n\r\n    // Bug Fix 1: Skip animation if sliding to the same edge item and we are not wrapping\r\n    if (targetIndex === this.currentIndex && !options.isWrapping) {\r\n      console.log(' Already at boundary edge, ignoring slide request to same index');\r\n      return;\r\n    }\r\n\r\n    this.isAnimating = true;\r\n    const previousIndex = this.currentIndex;\r\n    this.currentIndex = targetIndex;\r\n\r\n    // Handle wrap-around animation for seamless looping\r\n    if (options.isWrapping && this.itemElements.length > 1) {\r\n      this.handleWrapAnimation(previousIndex, targetIndex, options.direction);\r\n    } else {\r\n      // Normal slide animation\r\n      const offset = -targetIndex * 100;\r\n      this.container.style.transform = `translateY(${offset}%)`;\r\n      console.log(' Sliding to item', targetIndex, '- Transform: translateY(' + offset + '%)');\r\n    }\r\n\r\n    // Emit slide event\r\n    this.eventManager.emit('slideStarted', { index: targetIndex });\r\n\r\n    // Clear previous timeout\r\n    if (this.transitionId) clearTimeout(this.transitionId);\r\n\r\n    // Wait for transition to complete\r\n    this.transitionId = setTimeout(() => {\r\n      this.isAnimating = false;\r\n      console.log(' Slide animation completed for item', targetIndex);\r\n      this.eventManager.emit('slideCompleted', { index: targetIndex });\r\n    }, this.config.transitionDuration);\r\n  }\r\n\r\n  /**\r\n   * Handle wrap-around animation for seamless infinite scrolling\r\n   * @private\r\n   * @param {number} fromIndex - Starting index\r\n   * @param {number} toIndex - Target index\r\n   * @param {string} direction - Animation direction ('up' or 'down')\r\n   */\r\n  handleWrapAnimation(fromIndex, toIndex, direction) {\r\n    const totalItems = this.itemElements.length;\r\n    \r\n    // Wrapping from last to first (user swiped up on last item)\r\n    if (fromIndex === totalItems - 1 && toIndex === 0 && direction === 'up') {\r\n      console.log(' Wrap animation: last  first (animating UP)');\r\n      \r\n      const firstItem = this.itemElements[0];\r\n      \r\n      // Disable transition for instantaneous invisible snap\r\n      this.container.style.transition = 'none';\r\n      \r\n      // Temporarily use flex 'order' to physically place the first item at the end of the flex list.\r\n      // This natively expands the browser's layout bounding box, avoiding offscreen culling (black flashes).\r\n      firstItem.style.order = '1';\r\n      \r\n      // Because we moved the first item, the layout shifts. The last item is now physically 1 position earlier.\r\n      // We must instantly snap the container to keep the last item perfectly visibly undisturbed.\r\n      const snapOffset = -(fromIndex - 1) * 100;\r\n      this.container.style.transform = `translateY(${snapOffset}%)`;\r\n      \r\n      // Force reflow\r\n      this.container.offsetHeight;\r\n      \r\n      // Re-enable transition\r\n      this.container.style.transition = `transform ${this.config.transitionDuration}ms ease-in-out`;\r\n      \r\n      // Animate container to reveal the first item (which is now at the very end)\r\n      const animateOffset = -(totalItems - 1) * 100;\r\n      this.container.style.transform = `translateY(${animateOffset}%)`;\r\n      \r\n      // After animation completes, snap everything back to accurate true native states\r\n      setTimeout(() => {\r\n        this.container.style.transition = 'none';\r\n        \r\n        // Restore natural flex layout order\r\n        firstItem.style.order = '0';\r\n        \r\n        // Snap container to true index 0\r\n        this.container.style.transform = `translateY(0%)`;\r\n        \r\n        // Force reflow\r\n        this.container.offsetHeight;\r\n        \r\n        // Re-enable transition for normal slides\r\n        this.container.style.transition = `transform ${this.config.transitionDuration}ms ease-in-out`;\r\n      }, this.config.transitionDuration);\r\n    }\r\n    // Wrapping from first to last (user swiped down on first item)\r\n    else if (fromIndex === 0 && toIndex === totalItems - 1 && direction === 'down') {\r\n      console.log(' Wrap animation: first  last (animating DOWN)');\r\n      \r\n      const lastItem = this.itemElements[totalItems - 1];\r\n      \r\n      // Disable transition for instantaneous snap\r\n      this.container.style.transition = 'none';\r\n      \r\n      // Use flex 'order' to physically place the last item at the very beginning of the flex list.\r\n      lastItem.style.order = '-1';\r\n      \r\n      // Because we moved the last item to the front, the first item is now physically at offset 1 (100%).\r\n      // We snap the container to -100% to keep the first item perfectly in view before animating.\r\n      const snapOffset = -100;\r\n      this.container.style.transform = `translateY(${snapOffset}%)`;\r\n      \r\n      // Force reflow\r\n      this.container.offsetHeight;\r\n      \r\n      // Re-enable transition\r\n      this.container.style.transition = `transform ${this.config.transitionDuration}ms ease-in-out`;\r\n      \r\n      // Animate container to 0% to reveal the last item (now sitting at the very front)\r\n      const animateOffset = 0;\r\n      this.container.style.transform = `translateY(${animateOffset}%)`;\r\n      \r\n      // After animation completes, restore true states\r\n      setTimeout(() => {\r\n        this.container.style.transition = 'none';\r\n        \r\n        // Restore natural flex layout\r\n        lastItem.style.order = '0';\r\n        \r\n        // Snap container to true last item position\r\n        const finalOffset = -(totalItems - 1) * 100;\r\n        this.container.style.transform = `translateY(${finalOffset}%)`;\r\n        \r\n        // Force reflow\r\n        this.container.offsetHeight;\r\n        \r\n        // Re-enable transition\r\n        this.container.style.transition = `transform ${this.config.transitionDuration}ms ease-in-out`;\r\n      }, this.config.transitionDuration);\r\n    }\r\n    // Fallback to normal animation if conditions don't match\r\n    else {\r\n      const offset = -toIndex * 100;\r\n      this.container.style.transform = `translateY(${offset}%)`;\r\n      console.log(' Sliding to item', toIndex, '- Transform: translateY(' + offset + '%)');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get number of item elements\r\n   * @returns {number}\r\n   */\r\n  getItemCount() {\r\n    return this.itemElements.length;\r\n  }\r\n\r\n  /**\r\n   * Get current slide index\r\n   * @returns {number}\r\n   */\r\n  getCurrentIndex() {\r\n    return this.currentIndex;\r\n  }\r\n\r\n  /**\r\n   * Destroy roll\r\n   */\r\n  destroy() {\r\n    if (this.transitionId) clearTimeout(this.transitionId);\r\n    this.container = null;\r\n    this.viewport = null;\r\n    this.itemElements = [];\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = Roll;\r\n}\r\n","/**\r\n * AutoplayHandler - Manages autoplay functionality\r\n */\r\nclass AutoplayHandler {\r\n  constructor(eventManager, config, onAutoplayTick) {\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.onAutoplayTick = onAutoplayTick;\r\n\r\n    this.isPlaying = false;\r\n    this.autoplayInterval = null;\r\n    this.resumeTimer = null;\r\n    this.isPaused = false;\r\n  }\r\n\r\n  /**\r\n   * Start autoplay\r\n   */\r\n  play() {\r\n    if (this.isPlaying) return;\r\n\r\n    this.isPlaying = true;\r\n    this.isPaused = false;\r\n\r\n    this.eventManager.emit('autoplayStart');\r\n\r\n    // Start autoplay ticker\r\n    this.autoplayInterval = setInterval(() => {\r\n      if (this.onAutoplayTick) {\r\n        this.onAutoplayTick();\r\n      }\r\n      this.eventManager.emit('autoplayTick');\r\n    }, this.config.autoplayInterval);\r\n  }\r\n\r\n  /**\r\n   * Pause autoplay\r\n   */\r\n  pause() {\r\n    if (!this.isPlaying) return;\r\n\r\n    this.isPlaying = false;\r\n    this.isPaused = true;\r\n\r\n    if (this.autoplayInterval) {\r\n      clearInterval(this.autoplayInterval);\r\n      this.autoplayInterval = null;\r\n    }\r\n\r\n    if (this.resumeTimer) {\r\n      clearTimeout(this.resumeTimer);\r\n      this.resumeTimer = null;\r\n    }\r\n\r\n    this.eventManager.emit('autoplayPause');\r\n  }\r\n\r\n  /**\r\n   * Temporarily pause and schedule resume\r\n   * @param {number} delay - Delay before resume (ms)\r\n   */\r\n  pauseTemporarily(delay = null) {\r\n    if (!this.isPlaying && !this.isTemporarilyPaused()) return;\r\n\r\n    if (this.isPlaying) {\r\n      this.pause();\r\n    }\r\n\r\n    // Bug Fix 2: If we are already temporarily paused, clear the old timer so the new one extends it.\r\n    if (this.resumeTimer) {\r\n      clearTimeout(this.resumeTimer);\r\n      this.resumeTimer = null;\r\n    }\r\n\r\n    delay = delay || this.config.autoplayResumeDelay;\r\n\r\n    // Schedule resume\r\n    this.resumeTimer = setTimeout(() => {\r\n      this.resumeTimer = null;\r\n      this.play();\r\n    }, delay);\r\n\r\n    this.eventManager.emit('autoplayPausedTemporarily', { delay });\r\n  }\r\n\r\n  /**\r\n   * Resume autoplay if paused\r\n   */\r\n  resume() {\r\n    if (this.isPlaying || !this.config.autoplay) return;\r\n\r\n    this.play();\r\n  }\r\n\r\n  /**\r\n   * Check if autoplay is currently playing\r\n   * @returns {boolean}\r\n   */\r\n  isAutoplayActive() {\r\n    return this.isPlaying;\r\n  }\r\n\r\n  /**\r\n   * Check if autoplay is paused\r\n   * @returns {boolean}\r\n   */\r\n  isAutoplayPaused() {\r\n    return this.isPaused;\r\n  }\r\n\r\n  /**\r\n   * Check if autoplay is temporarily paused waiting to resume\r\n   * @returns {boolean}\r\n   */\r\n  isTemporarilyPaused() {\r\n    return this.resumeTimer !== null;\r\n  }\r\n\r\n  /**\r\n   * Destroy handler\r\n   */\r\n  destroy() {\r\n    this.pause();\r\n\r\n    if (this.resumeTimer) {\r\n      clearTimeout(this.resumeTimer);\r\n      this.resumeTimer = null;\r\n    }\r\n\r\n    this.onAutoplayTick = null;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = AutoplayHandler;\r\n}\r\n","/**\r\n * KeyboardHandler - Handles keyboard navigation\r\n */\r\nclass KeyboardHandler {\r\n  constructor(element, eventManager, config, onKeyPress) {\r\n    this.element = element;\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.onKeyPress = onKeyPress;\r\n\r\n    this.isConfigEnabled = config.enableKeyboard;\r\n    this.isHandlerAttached = false;\r\n    this.isHovered = false;\r\n    this.isFocused = false;\r\n    \r\n    this.boundKeyDown = this.handleKeyDown.bind(this);\r\n    this.boundMouseEnter = this.handleMouseEnter.bind(this);\r\n    this.boundMouseLeave = this.handleMouseLeave.bind(this);\r\n    this.boundFocus = this.handleFocus.bind(this);\r\n    this.boundBlur = this.handleBlur.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Enable keyboard handler\r\n   */\r\n  enable() {\r\n    if (!this.isConfigEnabled || this.isHandlerAttached) return;\r\n\r\n    this.isHandlerAttached = true;\r\n    \r\n    // Make element focusable if not already\r\n    if (!this.element.hasAttribute('tabindex')) {\r\n      this.element.setAttribute('tabindex', '0');\r\n    }\r\n    \r\n    // Listen to document for keyboard events\r\n    document.addEventListener('keydown', this.boundKeyDown, false);\r\n    \r\n    // Track hover state\r\n    this.element.addEventListener('mouseenter', this.boundMouseEnter, false);\r\n    this.element.addEventListener('mouseleave', this.boundMouseLeave, false);\r\n    \r\n    // Track focus state\r\n    this.element.addEventListener('focus', this.boundFocus, false);\r\n    this.element.addEventListener('blur', this.boundBlur, false);\r\n  }\r\n\r\n  /**\r\n   * Disable keyboard handler\r\n   */\r\n  disable() {\r\n    if (!this.isHandlerAttached) return;\r\n\r\n    this.isHandlerAttached = false;\r\n    document.removeEventListener('keydown', this.boundKeyDown, false);\r\n    this.element.removeEventListener('mouseenter', this.boundMouseEnter, false);\r\n    this.element.removeEventListener('mouseleave', this.boundMouseLeave, false);\r\n    this.element.removeEventListener('focus', this.boundFocus, false);\r\n    this.element.removeEventListener('blur', this.boundBlur, false);\r\n  }\r\n\r\n  /**\r\n   * Handle mouse enter\r\n   */\r\n  handleMouseEnter() {\r\n    this.isHovered = true;\r\n  }\r\n\r\n  /**\r\n   * Handle mouse leave\r\n   */\r\n  handleMouseLeave() {\r\n    this.isHovered = false;\r\n  }\r\n\r\n  /**\r\n   * Handle focus\r\n   */\r\n  handleFocus() {\r\n    this.isFocused = true;\r\n  }\r\n\r\n  /**\r\n   * Handle blur\r\n   */\r\n  handleBlur() {\r\n    this.isFocused = false;\r\n  }\r\n\r\n  /**\r\n   * Handle key down event\r\n   * @param {KeyboardEvent} event\r\n   */\r\n  handleKeyDown(event) {\r\n    if (!this.isHandlerAttached) return;\r\n    \r\n    // Only respond to keyboard events if element is hovered or focused\r\n    if (!this.isHovered && !this.isFocused) {\r\n      return;\r\n    }\r\n\r\n    const key = event.key;\r\n\r\n    // Arrow Down - next item (Instagram Reels style)\r\n    if (key === 'ArrowDown') {\r\n      event.preventDefault();\r\n      this.eventManager.emit('keyboardEvent', { key: 'ArrowDown' });\r\n\r\n      if (this.onKeyPress) {\r\n        this.onKeyPress('ArrowDown');\r\n      }\r\n    }\r\n\r\n    // Arrow Up - previous item (Instagram Reels style)\r\n    if (key === 'ArrowUp') {\r\n      event.preventDefault();\r\n      this.eventManager.emit('keyboardEvent', { key: 'ArrowUp' });\r\n\r\n      if (this.onKeyPress) {\r\n        this.onKeyPress('ArrowUp');\r\n      }\r\n    }\r\n\r\n    // Space - toggle autoplay\r\n    if (key === ' ') {\r\n      event.preventDefault();\r\n      this.eventManager.emit('keyboardEvent', { key: ' ' });\r\n\r\n      if (this.onKeyPress) {\r\n        this.onKeyPress(' ');\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy handler\r\n   */\r\n  destroy() {\r\n    this.disable();\r\n    this.onKeyPress = null;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = KeyboardHandler;\r\n}\r\n","/**\r\n * MouseDragHandler - Detects and handles mouse drag gestures (desktop support)\r\n */\r\nclass MouseDragHandler {\r\n  constructor(element, eventManager, config, onDrag) {\r\n    this.element = element;\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.onDrag = onDrag;\r\n\r\n    this.mouseStartX = 0;\r\n    this.mouseStartY = 0;\r\n    this.mouseEndX = 0;\r\n    this.mouseEndY = 0;\r\n    this.isHandlerEnabled = false;\r\n\r\n    this.mouseStartTime = 0;\r\n    this.isDragging = false;\r\n    this.hasMovedSignificantly = false;\r\n    this.dragStartedInside = false;\r\n\r\n    this.boundMouseDown = this.handleMouseDown.bind(this);\r\n    this.boundMouseMove = this.handleMouseMove.bind(this);\r\n    this.boundMouseUp = this.handleMouseUp.bind(this);\r\n    this.boundMouseLeave = this.handleMouseLeave.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Enable mouse drag handler\r\n   */\r\n  enable() {\r\n    if (this.config.enableMouseDrag === false) return;\r\n    if (this.isHandlerEnabled) return;\r\n\r\n    this.isHandlerEnabled = true;\r\n    this.element.addEventListener('mousedown', this.boundMouseDown, { passive: false });\r\n    // Mouse move and up are on document to track outside element\r\n    document.addEventListener('mousemove', this.boundMouseMove, { passive: false });\r\n    document.addEventListener('mouseup', this.boundMouseUp, { passive: false });\r\n    this.element.addEventListener('mouseleave', this.boundMouseLeave, { passive: false });\r\n  }\r\n\r\n  /**\r\n   * Disable mouse drag handler\r\n   */\r\n  disable() {\r\n    if (!this.isHandlerEnabled) return;\r\n\r\n    this.isHandlerEnabled = false;\r\n    this.element.removeEventListener('mousedown', this.boundMouseDown);\r\n    document.removeEventListener('mousemove', this.boundMouseMove);\r\n    document.removeEventListener('mouseup', this.boundMouseUp);\r\n    this.element.removeEventListener('mouseleave', this.boundMouseLeave);\r\n  }\r\n\r\n  /**\r\n   * Handle mouse down\r\n   * @param {MouseEvent} event\r\n   */\r\n  handleMouseDown(event) {\r\n    // Only handle left mouse button\r\n    if (event.button !== 0) return;\r\n\r\n    // Mark that drag started inside the element\r\n    this.dragStartedInside = true;\r\n\r\n    this.mouseStartX = event.clientX;\r\n    this.mouseStartY = event.clientY;\r\n    this.mouseStartTime = Date.now();\r\n    this.isDragging = true;\r\n    this.hasMovedSignificantly = false;\r\n\r\n    // Prevent text selection and default drag behavior\r\n    event.preventDefault();\r\n\r\n    // Add dragging cursor\r\n    this.element.style.cursor = 'grabbing';\r\n\r\n    console.log('MouseDragHandler: Mouse down at', this.mouseStartX, this.mouseStartY);\r\n  }\r\n\r\n  /**\r\n   * Handle mouse move\r\n   * @param {MouseEvent} event\r\n   */\r\n  handleMouseMove(event) {\r\n    if (!this.isDragging) return;\r\n\r\n    this.mouseEndX = event.clientX;\r\n    this.mouseEndY = event.clientY;\r\n\r\n    const deltaX = Math.abs(this.mouseStartX - this.mouseEndX);\r\n    const deltaY = Math.abs(this.mouseStartY - this.mouseEndY);\r\n\r\n    // Check if moved significantly (at least 5px)\r\n    if (deltaY > 5 || deltaX > 5) {\r\n      this.hasMovedSignificantly = true;\r\n    }\r\n\r\n    // Prevent default to stop text selection during drag\r\n    if (this.hasMovedSignificantly) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    console.log('MouseDragHandler: Dragging', { \r\n      deltaY: this.mouseStartY - this.mouseEndY,\r\n      deltaX: deltaX \r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle mouse up\r\n   * @param {MouseEvent} event\r\n   */\r\n  handleMouseUp(event) {\r\n    if (!this.isDragging) return;\r\n\r\n    // Only process if drag started inside the element\r\n    if (!this.dragStartedInside) {\r\n      this.isDragging = false;\r\n      this.dragStartedInside = false;\r\n      return;\r\n    }\r\n\r\n    this.isDragging = false;\r\n    this.dragStartedInside = false;\r\n\r\n    // Restore cursor\r\n    this.element.style.cursor = '';\r\n\r\n    // Only process as drag if moved significantly\r\n    if (!this.hasMovedSignificantly) {\r\n      console.log('MouseDragHandler: Click detected (no drag), ignoring');\r\n      return;\r\n    }\r\n\r\n    const endX = event.clientX;\r\n    const endY = event.clientY;\r\n\r\n    const deltaX = this.mouseStartX - endX;\r\n    const deltaY = this.mouseStartY - endY;\r\n    const deltaTime = Date.now() - this.mouseStartTime;\r\n\r\n    console.log('MouseDragHandler: Mouse up', {\r\n      startX: this.mouseStartX,\r\n      startY: this.mouseStartY,\r\n      endX,\r\n      endY,\r\n      deltaX,\r\n      deltaY,\r\n      deltaTime\r\n    });\r\n\r\n    // Calculate velocity (pixels per millisecond)\r\n    const velocity = Math.abs(deltaY) / deltaTime;\r\n\r\n    // Prioritize vertical movement (like touch handler)\r\n    // Only ignore if significantly more horizontal than vertical\r\n    if (Math.abs(deltaX) > Math.abs(deltaY) * 1.5) {\r\n      console.log('MouseDragHandler: Significantly horizontal drag detected, ignoring');\r\n      return;\r\n    }\r\n\r\n    // Use velocity-based threshold for better responsiveness\r\n    const minDragDistance = 30;\r\n    const velocityThreshold = 0.3; // pixels per millisecond\r\n    const dragThreshold = this.config.swipeThreshold || 50;\r\n\r\n    const isValidDistance = Math.abs(deltaY) >= dragThreshold;\r\n    const isValidVelocity = Math.abs(deltaY) >= minDragDistance && velocity >= velocityThreshold;\r\n\r\n    if (!isValidDistance && !isValidVelocity) {\r\n      console.log('MouseDragHandler: Drag too small or slow', {\r\n        deltaY: Math.abs(deltaY),\r\n        threshold: dragThreshold,\r\n        velocity,\r\n        velocityThreshold\r\n      });\r\n      return;\r\n    }\r\n\r\n    const direction = deltaY > 0 ? 'up' : 'down';\r\n    console.log('MouseDragHandler: Valid drag detected:', direction, { \r\n      distance: Math.abs(deltaY), \r\n      velocity \r\n    });\r\n\r\n    this.eventManager.emit('dragDetected', {\r\n      direction,\r\n      distance: Math.abs(deltaY),\r\n      velocity,\r\n    });\r\n\r\n    if (this.onDrag) {\r\n      this.onDrag(direction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle mouse leave\r\n   * @param {MouseEvent} event\r\n   */\r\n  handleMouseLeave(event) {\r\n    // If dragging and mouse leaves the element, still allow drag completion\r\n    // Don't cancel dragging here, let mouseup handle it\r\n    if (this.isDragging) {\r\n      console.log('MouseDragHandler: Mouse left element while dragging');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy handler\r\n   */\r\n  destroy() {\r\n    this.disable();\r\n    this.onDrag = null;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = MouseDragHandler;\r\n}\r\n","/**\r\n * TouchHandler - Detects and handles swipe gestures\r\n */\r\nclass TouchHandler {\r\n  constructor(element, eventManager, config, onSwipe) {\r\n    this.element = element;\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.onSwipe = onSwipe;\r\n\r\n    this.touchStartX = 0;\r\n    this.touchStartY = 0;\r\n    this.touchEndX = 0;\r\n    this.touchEndY = 0;\r\n    this.isHandlerEnabled = false;\r\n\r\n    this.touchStartTime = 0;\r\n    this.isDragging = false;\r\n\r\n    this.boundTouchStart = this.handleTouchStart.bind(this);\r\n    this.boundTouchMove = this.handleTouchMove.bind(this);\r\n    this.boundTouchEnd = this.handleTouchEnd.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Enable touch handler\r\n   */\r\n  enable() {\r\n    if (this.config.enableTouch === false) return;\r\n    if (this.isHandlerEnabled) return;\r\n\r\n    this.isHandlerEnabled = true;\r\n    // Use capture phase to intercept events before child elements - Instagram Reels behavior\r\n    this.element.addEventListener('touchstart', this.boundTouchStart, { passive: false, capture: true });\r\n    this.element.addEventListener('touchmove', this.boundTouchMove, { passive: false, capture: true });\r\n    this.element.addEventListener('touchend', this.boundTouchEnd, { passive: false, capture: true });\r\n  }\r\n\r\n  /**\r\n   * Disable touch handler\r\n   */\r\n  disable() {\r\n    if (!this.isHandlerEnabled) return;\r\n\r\n    this.isHandlerEnabled = false;\r\n    this.element.removeEventListener('touchstart', this.boundTouchStart, { capture: true });\r\n    this.element.removeEventListener('touchmove', this.boundTouchMove, { capture: true });\r\n    this.element.removeEventListener('touchend', this.boundTouchEnd, { capture: true });\r\n  }\r\n\r\n  /**\r\n   * Handle touch start\r\n   * @param {TouchEvent} event\r\n   */\r\n  handleTouchStart(event) {\r\n    if (event.touches.length !== 1) return; // Only handle single touch\r\n\r\n    this.touchStartX = event.touches[0].clientX;\r\n    this.touchStartY = event.touches[0].clientY;\r\n    this.touchStartTime = Date.now();\r\n    this.isDragging = true;\r\n    \r\n    // Prevent default immediately to stop any scrolling - Instagram Reels style\r\n    event.preventDefault();\r\n    // Stop event from reaching child elements\r\n    event.stopPropagation();\r\n    \r\n    console.log('TouchHandler: Touch start at', this.touchStartX, this.touchStartY);\r\n  }\r\n\r\n  /**\r\n   * Handle touch move\r\n   * @param {TouchEvent} event\r\n   */\r\n  handleTouchMove(event) {\r\n    if (!this.isDragging || event.touches.length !== 1) return;\r\n\r\n    this.touchEndX = event.touches[0].clientX;\r\n    this.touchEndY = event.touches[0].clientY;\r\n    \r\n    // Always prevent default to stop page scrolling - Instagram Reels behavior\r\n    // This ensures only our roll moves, not the page\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    \r\n    // Optional: Could add visual feedback here (like Instagram's drag indicator)\r\n    const deltaY = this.touchStartY - this.touchEndY;\r\n    console.log('TouchHandler: Dragging', { deltaY });\r\n  }\r\n\r\n  /**\r\n   * Handle touch end\r\n   * @param {TouchEvent} event\r\n   */\r\n  handleTouchEnd(event) {\r\n    if (!this.isDragging) return;\r\n\r\n    this.isDragging = false;\r\n\r\n    // Use changedTouches to get the final position\r\n    const endX = event.changedTouches[0].clientX;\r\n    const endY = event.changedTouches[0].clientY;\r\n\r\n    const deltaX = this.touchStartX - endX;\r\n    const deltaY = this.touchStartY - endY;\r\n    const deltaTime = Date.now() - this.touchStartTime;\r\n\r\n    console.log('TouchHandler: Touch end', {\r\n      startX: this.touchStartX,\r\n      startY: this.touchStartY,\r\n      endX,\r\n      endY,\r\n      deltaX,\r\n      deltaY,\r\n      deltaTime\r\n    });\r\n\r\n    // Calculate velocity (pixels per millisecond)\r\n    const velocity = Math.abs(deltaY) / deltaTime;\r\n\r\n    // Instagram Reels style: Prioritize vertical movement\r\n    // Only ignore if it's significantly more horizontal than vertical\r\n    if (Math.abs(deltaX) > Math.abs(deltaY) * 1.5) {\r\n      console.log('TouchHandler: Significantly horizontal swipe detected, ignoring');\r\n      return;\r\n    }\r\n\r\n    // Check if it's a tap (quick touch with minimal movement)\r\n    const isTap = Math.abs(deltaX) < 10 && Math.abs(deltaY) < 10 && deltaTime < 300;\r\n\r\n    if (isTap) {\r\n      console.log('TouchHandler: Tap detected');\r\n      this.eventManager.emit('tapDetected', {\r\n        x: endX,\r\n        y: endY,\r\n      });\r\n      return; // Don't process as swipe\r\n    }\r\n\r\n    // Instagram Reels style: Use velocity-based threshold for better responsiveness\r\n    // Accept swipe if either:\r\n    // 1. Distance is above threshold, OR\r\n    // 2. Velocity is high enough (fast swipe) - minimum 30px movement\r\n    const minSwipeDistance = 30;\r\n    const velocityThreshold = 0.3; // pixels per millisecond\r\n    \r\n    const isValidDistance = Math.abs(deltaY) >= this.config.swipeThreshold;\r\n    const isValidVelocity = Math.abs(deltaY) >= minSwipeDistance && velocity >= velocityThreshold;\r\n\r\n    if (!isValidDistance && !isValidVelocity) {\r\n      console.log('TouchHandler: Swipe too small or slow', { \r\n        deltaY: Math.abs(deltaY), \r\n        threshold: this.config.swipeThreshold, \r\n        velocity,\r\n        velocityThreshold\r\n      });\r\n      return;\r\n    }\r\n\r\n    const direction = deltaY > 0 ? 'up' : 'down';\r\n    console.log('TouchHandler: Valid swipe detected:', direction, { distance: Math.abs(deltaY), velocity });\r\n\r\n    this.eventManager.emit('swipeDetected', {\r\n      direction,\r\n      distance: Math.abs(deltaY),\r\n      velocity,\r\n    });\r\n\r\n    if (this.onSwipe) {\r\n      this.onSwipe(direction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy handler\r\n   */\r\n  destroy() {\r\n    this.disable();\r\n    this.onSwipe = null;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = TouchHandler;\r\n}\r\n","/**\r\n * WheelHandler - Handles mouse wheel scrolling for desktop users\r\n */\r\nclass WheelHandler {\r\n  constructor(element, eventManager, config, onWheel) {\r\n    this.element = element;\r\n    this.eventManager = eventManager;\r\n    this.config = config;\r\n    this.onWheel = onWheel;\r\n\r\n    this.isHandlerEnabled = false;\r\n    this.lastWheelTime = 0;\r\n    this.wheelThrottle = 500; // Minimum time between wheel events (ms)\r\n    this.isHovered = false;\r\n\r\n    this.boundWheel = this.handleWheel.bind(this);\r\n    this.boundMouseEnter = this.handleMouseEnter.bind(this);\r\n    this.boundMouseLeave = this.handleMouseLeave.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Enable wheel handler\r\n   */\r\n  enable() {\r\n    if (!this.config.enableWheel) return;\r\n    if (this.isHandlerEnabled) return;\r\n\r\n    this.isHandlerEnabled = true;\r\n    this.element.addEventListener('wheel', this.boundWheel, { passive: false });\r\n    this.element.addEventListener('mouseenter', this.boundMouseEnter, false);\r\n    this.element.addEventListener('mouseleave', this.boundMouseLeave, false);\r\n    console.log('WheelHandler: Enabled');\r\n  }\r\n\r\n  /**\r\n   * Disable wheel handler\r\n   */\r\n  disable() {\r\n    if (!this.isEnabled) return;\r\n\r\n    this.isEnabled = false;\r\n    this.element.removeEventListener('wheel', this.boundWheel);\r\n    this.element.removeEventListener('mouseenter', this.boundMouseEnter);\r\n    this.element.removeEventListener('mouseleave', this.boundMouseLeave);\r\n  }\r\n\r\n  /**\r\n   * Handle mouse enter\r\n   */\r\n  handleMouseEnter() {\r\n    this.isHovered = true;\r\n  }\r\n\r\n  /**\r\n   * Handle mouse leave\r\n   */\r\n  handleMouseLeave() {\r\n    this.isHovered = false;\r\n  }\r\n\r\n  /**\r\n   * Handle wheel event\r\n   * @param {WheelEvent} event\r\n   */\r\n  handleWheel(event) {\r\n    if (!this.isEnabled) return;\r\n\r\n    // Only respond when mouse is hovering over the element\r\n    if (!this.isHovered) return;\r\n\r\n    const now = Date.now();\r\n    \r\n    // Throttle wheel events to prevent too rapid scrolling\r\n    if (now - this.lastWheelTime < this.wheelThrottle) {\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    this.lastWheelTime = now;\r\n\r\n    // Prevent default scrolling behavior\r\n    event.preventDefault();\r\n\r\n    // Determine scroll direction\r\n    const direction = event.deltaY > 0 ? 'down' : 'up';\r\n\r\n    console.log('WheelHandler: Scroll detected -', direction);\r\n\r\n    this.eventManager.emit('wheelDetected', {\r\n      direction,\r\n      deltaY: event.deltaY,\r\n    });\r\n\r\n    if (this.onWheel) {\r\n      this.onWheel(direction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy handler\r\n   */\r\n  destroy() {\r\n    this.disable();\r\n    this.onWheel = null;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = WheelHandler;\r\n}\r\n","/**\r\n * SenangWebs Roll (SWR) - Main class\r\n * Lightweight roll library for creating responsive media rolls\r\n */\r\n\r\n// Import dependencies - webpack will convert CommonJS exports to ES6\r\nimport ConfigParser from './parsers/ConfigParser';\r\nimport DataAttributeParser from './parsers/DataAttributeParser';\r\nimport EventManager from './core/EventManager';\r\nimport MediaManager from './core/MediaManager';\r\nimport Navigation from './core/Navigation';\r\nimport Roll from './core/Roll';\r\nimport TouchHandler from './handlers/TouchHandler';\r\nimport KeyboardHandler from './handlers/KeyboardHandler';\r\nimport AutoplayHandler from './handlers/AutoplayHandler';\r\nimport WheelHandler from './handlers/WheelHandler';\r\nimport MouseDragHandler from './handlers/MouseDragHandler';\r\nimport HTMLRenderer from './renderers/HTMLRenderer';\r\nimport VideoRenderer from './renderers/VideoRenderer';\r\nimport ImageRenderer from './renderers/ImageRenderer';\r\n\r\nclass SWR {\r\n  /**\r\n   * Constructor\r\n   * @param {string|HTMLElement} selector - CSS selector or DOM element\r\n   * @param {Object} config - Configuration object\r\n   */\r\n  constructor(selector, config = {}) {\r\n    // Get element\r\n    this.element = typeof selector === 'string' ? document.querySelector(selector) : selector;\r\n\r\n    if (!this.element) {\r\n      throw new Error(`Element not found: ${selector}`);\r\n    }\r\n\r\n    // Parse configuration\r\n    this.config = ConfigParser.parse(config);\r\n\r\n    // Initialize core components\r\n    this.eventManager = new EventManager();\r\n    this.mediaManager = new MediaManager(this.eventManager);\r\n    this.navigation = new Navigation(this.eventManager, this.config);\r\n    this.roll = new Roll(this.element, this.eventManager, this.config);\r\n\r\n    // Initialize handlers\r\n    this.touchHandler = null;\r\n    this.keyboardHandler = null;\r\n    this.wheelHandler = null;\r\n    this.mouseDragHandler = null;\r\n    this.autoplayHandler = null;\r\n\r\n    // Renderers\r\n    this.renderers = {\r\n      html: new HTMLRenderer(),\r\n      video: new VideoRenderer(),\r\n      image: new ImageRenderer(),\r\n    };\r\n\r\n    // State\r\n    this.isInitialized = false;\r\n    this.isDestroyed = false;\r\n\r\n    // Initialize the roll\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Initialize the SWR instance\r\n   * @private\r\n   */\r\n  init() {\r\n    // Check for data attributes or existing items\r\n    const dataConfig = DataAttributeParser.parseConfig(this.element);\r\n    const dataItems = DataAttributeParser.parseItems(this.element);\r\n\r\n    // Merge data attributes into config\r\n    this.config = ConfigParser.parse({ ...this.config, ...dataConfig });\r\n\r\n    // Setup roll DOM\r\n    this.roll.initialize();\r\n\r\n    // Add items (from data attributes or config)\r\n    if (dataItems.length > 0) {\r\n      dataItems.forEach((item) => this.mediaManager.addItem(item));\r\n    } else if (this.config.items) {\r\n      this.config.items.forEach((item) => this.mediaManager.addItem(item));\r\n    }\r\n\r\n    // Initialize navigation\r\n    const itemCount = this.mediaManager.getItemCount();\r\n    this.navigation.initialize(itemCount);\r\n\r\n    // Render initial items\r\n    this.renderItems();\r\n\r\n    // Setup handlers\r\n    this.setupHandlers();\r\n\r\n    // Start autoplay if configured\r\n    if (this.config.autoplay) {\r\n      this.autoplayHandler.play();\r\n    }\r\n\r\n    this.isInitialized = true;\r\n    this.eventManager.emit('initialized', { totalItems: itemCount });\r\n  }\r\n\r\n  /**\r\n   * Setup event handlers\r\n   * @private\r\n   */\r\n  setupHandlers() {\r\n    // Touch/Swipe handler\r\n    this.touchHandler = new TouchHandler(\r\n      this.roll.viewport,\r\n      this.eventManager,\r\n      this.config,\r\n      (direction) => this.handleSwipe(direction)\r\n    );\r\n    this.touchHandler.enable();\r\n\r\n    // Keyboard handler\r\n    this.keyboardHandler = new KeyboardHandler(\r\n      this.element,\r\n      this.eventManager,\r\n      this.config,\r\n      (key) => this.handleKeyPress(key)\r\n    );\r\n    this.keyboardHandler.enable();\r\n\r\n    // Mouse wheel handler (desktop support)\r\n    this.wheelHandler = new WheelHandler(\r\n      this.roll.viewport,\r\n      this.eventManager,\r\n      this.config,\r\n      (direction) => this.handleWheel(direction)\r\n    );\r\n    this.wheelHandler.enable();\r\n\r\n    // Mouse drag handler (desktop drag support)\r\n    this.mouseDragHandler = new MouseDragHandler(\r\n      this.roll.viewport,\r\n      this.eventManager,\r\n      this.config,\r\n      (direction) => this.handleMouseDrag(direction)\r\n    );\r\n    this.mouseDragHandler.enable();\r\n\r\n    // Autoplay handler\r\n    this.autoplayHandler = new AutoplayHandler(\r\n      this.eventManager,\r\n      this.config,\r\n      () => this.handleAutoplayTick()\r\n    );\r\n\r\n    // Listen for user interactions to pause autoplay\r\n    if (this.config.enableAutoplayPauseOnInteraction) {\r\n      this.eventManager.on('swipeDetected', () => {\r\n        if (this.autoplayHandler.isAutoplayActive() || this.autoplayHandler.isTemporarilyPaused()) {\r\n          this.autoplayHandler.pauseTemporarily();\r\n        }\r\n      });\r\n\r\n      this.eventManager.on('keyboardEvent', () => {\r\n        if (this.autoplayHandler.isAutoplayActive() || this.autoplayHandler.isTemporarilyPaused()) {\r\n          this.autoplayHandler.pauseTemporarily();\r\n        }\r\n      });\r\n\r\n      this.eventManager.on('wheelDetected', () => {\r\n        if (this.autoplayHandler.isAutoplayActive() || this.autoplayHandler.isTemporarilyPaused()) {\r\n          this.autoplayHandler.pauseTemporarily();\r\n        }\r\n      });\r\n\r\n      this.eventManager.on('dragDetected', () => {\r\n        if (this.autoplayHandler.isAutoplayActive() || this.autoplayHandler.isTemporarilyPaused()) {\r\n          this.autoplayHandler.pauseTemporarily();\r\n        }\r\n      });\r\n    }\r\n\r\n    // Listen for tap events to toggle autoplay\r\n    this.eventManager.on('tapDetected', () => {\r\n      console.log(' Tap detected - toggling autoplay');\r\n      if (this.autoplayHandler.isAutoplayActive()) {\r\n        this.pause();\r\n      } else {\r\n        this.play();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Render all items\r\n   * @private\r\n   */\r\n  renderItems() {\r\n    const items = this.mediaManager.getItems();\r\n    items.forEach((item, index) => {\r\n      const renderer = this.getRenderer(item.type);\r\n      if (renderer) {\r\n        this.roll.renderItem(index, renderer, item);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get renderer for item type\r\n   * @private\r\n   * @param {string} type - Item type (html, video, image)\r\n   * @returns {Object} Renderer instance\r\n   */\r\n  getRenderer(type) {\r\n    return this.renderers[type] || null;\r\n  }\r\n\r\n  /**\r\n   * Handle swipe event\r\n   * @private\r\n   */\r\n  handleSwipe(direction) {\r\n    console.log(' SWR: Swipe registered -', direction === 'up' ? ' UP' : ' DOWN');\r\n    console.log(' Current index:', this.navigation.getCurrentIndex(), 'Total items:', this.mediaManager.getItemCount());\r\n    \r\n    if (direction === 'up') {\r\n      console.log(' Moving to NEXT item');\r\n      this.next();\r\n    } else if (direction === 'down') {\r\n      console.log(' Moving to PREVIOUS item');\r\n      this.prev();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle keyboard event\r\n   * @private\r\n   */\r\n  handleKeyPress(key) {\r\n    if (key === 'ArrowDown') {\r\n      this.next();\r\n    } else if (key === 'ArrowUp') {\r\n      this.prev();\r\n    } else if (key === ' ') {\r\n      if (this.autoplayHandler.isAutoplayActive()) {\r\n        this.pause();\r\n      } else {\r\n        this.play();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle mouse wheel event\r\n   * @private\r\n   */\r\n  handleWheel(direction) {\r\n    if (direction === 'down') {\r\n      this.next();\r\n    } else if (direction === 'up') {\r\n      this.prev();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle mouse drag event\r\n   * @private\r\n   */\r\n  handleMouseDrag(direction) {\r\n    console.log(' SWR: Mouse drag registered -', direction === 'up' ? ' UP' : ' DOWN');\r\n    console.log(' Current index:', this.navigation.getCurrentIndex(), 'Total items:', this.mediaManager.getItemCount());\r\n    \r\n    if (direction === 'up') {\r\n      console.log(' Moving to NEXT item (via drag)');\r\n      this.next();\r\n    } else if (direction === 'down') {\r\n      console.log(' Moving to PREVIOUS item (via drag)');\r\n      this.prev();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle autoplay tick\r\n   * @private\r\n   */\r\n  handleAutoplayTick() {\r\n    this.next();\r\n  }\r\n\r\n  // ========== Public API ==========\r\n\r\n  /**\r\n   * Go to next item\r\n   */\r\n  next() {\r\n    if (this.isDestroyed) return;\r\n\r\n    const navResult = this.navigation.next();\r\n    console.log(' Navigating to next item - Index:', navResult.index, 'Wrapping:', navResult.isWrapping);\r\n    this.roll.slideTo(navResult.index, {\r\n      isWrapping: navResult.isWrapping,\r\n      direction: navResult.direction\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Go to previous item\r\n   */\r\n  prev() {\r\n    if (this.isDestroyed) return;\r\n\r\n    const navResult = this.navigation.prev();\r\n    console.log(' Navigating to previous item - Index:', navResult.index, 'Wrapping:', navResult.isWrapping);\r\n    this.roll.slideTo(navResult.index, {\r\n      isWrapping: navResult.isWrapping,\r\n      direction: navResult.direction\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Go to specific item by index\r\n   * @param {number} index - Item index\r\n   */\r\n  goTo(index) {\r\n    if (this.isDestroyed) return;\r\n\r\n    const newIndex = this.navigation.goTo(index);\r\n    this.roll.slideTo(newIndex);\r\n  }\r\n\r\n  /**\r\n   * Add a new item to the roll\r\n   * @param {Object} item - Item object\r\n   * @param {number} index - Optional insertion index\r\n   */\r\n  addItem(item, index = null) {\r\n    if (this.isDestroyed) return;\r\n\r\n    const success = this.mediaManager.addItem(item, index);\r\n    if (success) {\r\n      // Update roll\r\n      this.roll.updateItemElements();\r\n      const renderer = this.getRenderer(item.type);\r\n      const actualIndex = index !== null ? index : this.mediaManager.getItemCount() - 1;\r\n      this.roll.renderItem(actualIndex, renderer, item);\r\n\r\n      // Update navigation\r\n      this.navigation.initialize(this.mediaManager.getItemCount());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove an item by index\r\n   * @param {number} index - Item index\r\n   */\r\n  removeItem(index) {\r\n    if (this.isDestroyed) return;\r\n\r\n    const item = this.mediaManager.removeItem(index);\r\n    if (item) {\r\n      // Update roll\r\n      this.roll.updateItemElements();\r\n\r\n      // Update navigation\r\n      this.navigation.initialize(this.mediaManager.getItemCount());\r\n\r\n      // Adjust current index if needed\r\n      if (index < this.navigation.getCurrentIndex()) {\r\n        this.navigation.goTo(this.navigation.getCurrentIndex() - 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get current item index\r\n   * @returns {number}\r\n   */\r\n  getCurrentIndex() {\r\n    return this.navigation.getCurrentIndex();\r\n  }\r\n\r\n  /**\r\n   * Get total number of items\r\n   * @returns {number}\r\n   */\r\n  getTotalItems() {\r\n    return this.mediaManager.getItemCount();\r\n  }\r\n\r\n  /**\r\n   * Start autoplay\r\n   */\r\n  play() {\r\n    if (this.isDestroyed) return;\r\n\r\n    if (!this.autoplayHandler) return;\r\n\r\n    this.autoplayHandler.play();\r\n  }\r\n\r\n  /**\r\n   * Pause autoplay\r\n   */\r\n  pause() {\r\n    if (this.isDestroyed) return;\r\n\r\n    if (!this.autoplayHandler) return;\r\n\r\n    this.autoplayHandler.pause();\r\n  }\r\n\r\n  /**\r\n   * Check if autoplay is active\r\n   * @returns {boolean}\r\n   */\r\n  isPlaying() {\r\n    if (!this.autoplayHandler) return false;\r\n\r\n    return this.autoplayHandler.isAutoplayActive();\r\n  }\r\n\r\n  /**\r\n   * Subscribe to event\r\n   * @param {string} event - Event name\r\n   * @param {Function} callback - Callback function\r\n   * @returns {Function} Unsubscribe function\r\n   */\r\n  on(event, callback) {\r\n    return this.eventManager.on(event, callback);\r\n  }\r\n\r\n  /**\r\n   * Unsubscribe from event\r\n   * @param {string} event - Event name\r\n   * @param {Function} callback - Callback function\r\n   */\r\n  off(event, callback) {\r\n    this.eventManager.off(event, callback);\r\n  }\r\n\r\n  /**\r\n   * Get current configuration\r\n   * @returns {Object}\r\n   */\r\n  getConfig() {\r\n    return { ...this.config };\r\n  }\r\n\r\n  /**\r\n   * Destroy the SWR instance\r\n   */\r\n  destroy() {\r\n    if (this.isDestroyed) return;\r\n\r\n    this.isDestroyed = true;\r\n\r\n    // Stop autoplay\r\n    if (this.autoplayHandler) {\r\n      this.autoplayHandler.destroy();\r\n      this.autoplayHandler = null;\r\n    }\r\n\r\n    // Destroy handlers\r\n    if (this.touchHandler) {\r\n      this.touchHandler.destroy();\r\n      this.touchHandler = null;\r\n    }\r\n\r\n    if (this.keyboardHandler) {\r\n      this.keyboardHandler.destroy();\r\n      this.keyboardHandler = null;\r\n    }\r\n\r\n    if (this.wheelHandler) {\r\n      this.wheelHandler.destroy();\r\n      this.wheelHandler = null;\r\n    }\r\n\r\n    if (this.mouseDragHandler) {\r\n      this.mouseDragHandler.destroy();\r\n      this.mouseDragHandler = null;\r\n    }\r\n\r\n    // Destroy roll\r\n    if (this.roll) {\r\n      this.roll.destroy();\r\n      this.roll = null;\r\n    }\r\n\r\n    // Clear managers\r\n    if (this.mediaManager) {\r\n      this.mediaManager.clear();\r\n      this.mediaManager = null;\r\n    }\r\n\r\n    if (this.navigation) {\r\n      this.navigation = null;\r\n    }\r\n\r\n    // Clear event listeners\r\n    if (this.eventManager) {\r\n      this.eventManager.clear();\r\n      this.eventManager = null;\r\n    }\r\n\r\n    // Emit destroy event\r\n    this.eventManager?.emit('destroy');\r\n\r\n    this.isInitialized = false;\r\n  }\r\n}\r\n\r\n// ES6 export (webpack will handle UMD conversion)\r\nexport default SWR;\r\n","/**\r\n * ConfigParser - Validates, merges, and provides default configuration\r\n */\r\nclass ConfigParser {\r\n  /**\r\n   * Default configuration for SWR\r\n   */\r\n  static DEFAULT_CONFIG = {\r\n    aspectRatio: '9:16',\r\n    loop: false,\r\n    autoplay: false,\r\n    autoplayInterval: 5000,\r\n    enableKeyboard: true,\r\n    enableTouch: true,\r\n    enableWheel: true,\r\n    enableMouseDrag: true,\r\n    enableAutoplayPauseOnInteraction: true,\r\n    autoplayResumeDelay: 3000,\r\n    transitionDuration: 350,\r\n    swipeThreshold: 50,\r\n    items: [],\r\n  };\r\n\r\n  /**\r\n   * Parse and validate configuration\r\n   * @param {Object} userConfig - User provided configuration\r\n   * @returns {Object} Merged and validated configuration\r\n   */\r\n  static parse(userConfig = {}) {\r\n    const config = { ...this.DEFAULT_CONFIG };\r\n\r\n    if (typeof userConfig !== 'object' || userConfig === null) {\r\n      console.warn('Invalid config provided, using defaults');\r\n      return config;\r\n    }\r\n\r\n    // Merge user config with defaults\r\n    Object.keys(userConfig).forEach((key) => {\r\n      if (key in config) {\r\n        config[key] = userConfig[key];\r\n      } else {\r\n        console.warn(`Unknown config option: ${key}`);\r\n      }\r\n    });\r\n\r\n    // If autoplay is enabled but loop is not explicitly set, enable loop automatically\r\n    // This ensures autoplay works continuously without stopping at the last item\r\n    if (config.autoplay && userConfig.loop === undefined) {\r\n      config.loop = true;\r\n      console.log(' Auto-enabling loop for autoplay');\r\n    }\r\n\r\n    this.validate(config);\r\n    return config;\r\n  }\r\n\r\n  /**\r\n   * Validate configuration values\r\n   * @param {Object} config - Configuration to validate\r\n   * @throws {Error} If validation fails\r\n   */\r\n  static validate(config) {\r\n    // Validate aspectRatio format (e.g., \"9:16\")\r\n    if (typeof config.aspectRatio !== 'string' || !this.isValidAspectRatio(config.aspectRatio)) {\r\n      console.warn(`Invalid aspectRatio: ${config.aspectRatio}, using default`);\r\n      config.aspectRatio = this.DEFAULT_CONFIG.aspectRatio;\r\n    }\r\n\r\n    // Validate boolean values\r\n    if (typeof config.loop !== 'boolean') config.loop = this.DEFAULT_CONFIG.loop;\r\n    if (typeof config.autoplay !== 'boolean') config.autoplay = this.DEFAULT_CONFIG.autoplay;\r\n    if (typeof config.enableKeyboard !== 'boolean') config.enableKeyboard = this.DEFAULT_CONFIG.enableKeyboard;\r\n    if (typeof config.enableTouch !== 'boolean') config.enableTouch = this.DEFAULT_CONFIG.enableTouch;\r\n    if (typeof config.enableWheel !== 'boolean') config.enableWheel = this.DEFAULT_CONFIG.enableWheel;\r\n    if (typeof config.enableAutoplayPauseOnInteraction !== 'boolean') {\r\n      config.enableAutoplayPauseOnInteraction = this.DEFAULT_CONFIG.enableAutoplayPauseOnInteraction;\r\n    }\r\n\r\n    // Validate numeric values\r\n    if (typeof config.autoplayInterval !== 'number' || config.autoplayInterval < 1000) {\r\n      config.autoplayInterval = this.DEFAULT_CONFIG.autoplayInterval;\r\n    }\r\n\r\n    if (typeof config.autoplayResumeDelay !== 'number' || config.autoplayResumeDelay < 0) {\r\n      config.autoplayResumeDelay = this.DEFAULT_CONFIG.autoplayResumeDelay;\r\n    }\r\n\r\n    if (typeof config.transitionDuration !== 'number' || config.transitionDuration < 0) {\r\n      config.transitionDuration = this.DEFAULT_CONFIG.transitionDuration;\r\n    }\r\n\r\n    if (typeof config.swipeThreshold !== 'number' || config.swipeThreshold < 1) {\r\n      config.swipeThreshold = this.DEFAULT_CONFIG.swipeThreshold;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if aspect ratio string is valid\r\n   * @param {string} ratio - Aspect ratio string (e.g., \"9:16\")\r\n   * @returns {boolean}\r\n   */\r\n  static isValidAspectRatio(ratio) {\r\n    const match = ratio.match(/^(\\d+):(\\d+)$/);\r\n    return match !== null && parseInt(match[1]) > 0 && parseInt(match[2]) > 0;\r\n  }\r\n\r\n  /**\r\n   * Parse aspect ratio string to numeric value\r\n   * @param {string} ratio - Aspect ratio string (e.g., \"9:16\")\r\n   * @returns {number} Numeric ratio value (width / height)\r\n   */\r\n  static parseAspectRatio(ratio) {\r\n    const [width, height] = ratio.split(':').map(Number);\r\n    return width / height;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = ConfigParser;\r\n}\r\n","/**\r\n * DataAttributeParser - Parses HTML data-swr attributes\r\n */\r\nclass DataAttributeParser {\r\n  /**\r\n   * Parse SWR data attributes from element\r\n   * @param {HTMLElement} element - Element with data-swr attributes\r\n   * @returns {Object} Configuration object from attributes\r\n   */\r\n  static parseConfig(element) {\r\n    const config = {};\r\n\r\n    // Parse aspect ratio\r\n    const aspectRatio = element.getAttribute('data-swr-aspect-ratio');\r\n    if (aspectRatio) config.aspectRatio = aspectRatio;\r\n\r\n    // Parse boolean attributes\r\n    const loop = element.getAttribute('data-swr-loop');\r\n    if (loop !== null) config.loop = loop === 'true' || loop === '';\r\n\r\n    const autoplay = element.getAttribute('data-swr-autoplay');\r\n    if (autoplay !== null) config.autoplay = autoplay === 'true' || autoplay === '';\r\n\r\n    const enableKeyboard = element.getAttribute('data-swr-keyboard');\r\n    if (enableKeyboard !== null) config.enableKeyboard = enableKeyboard === 'true' || enableKeyboard === '';\r\n\r\n    const enableTouch = element.getAttribute('data-swr-touch');\r\n    if (enableTouch !== null) config.enableTouch = enableTouch === 'true' || enableTouch === '';\r\n\r\n    const enableWheel = element.getAttribute('data-swr-wheel');\r\n    if (enableWheel !== null) config.enableWheel = enableWheel === 'true' || enableWheel === '';\r\n\r\n    const enableMouseDrag = element.getAttribute('data-swr-mouse-drag');\r\n    if (enableMouseDrag !== null) config.enableMouseDrag = enableMouseDrag === 'true' || enableMouseDrag === '';\r\n\r\n    // Parse numeric attributes\r\n    const autoplayInterval = element.getAttribute('data-swr-autoplay-interval');\r\n    if (autoplayInterval) config.autoplayInterval = parseInt(autoplayInterval, 10);\r\n\r\n    const transitionDuration = element.getAttribute('data-swr-transition');\r\n    if (transitionDuration) config.transitionDuration = parseInt(transitionDuration, 10);\r\n\r\n    const swipeThreshold = element.getAttribute('data-swr-swipe-threshold');\r\n    if (swipeThreshold) config.swipeThreshold = parseInt(swipeThreshold, 10);\r\n\r\n    return config;\r\n  }\r\n\r\n  /**\r\n   * Extract items from element with data-swr-item attributes\r\n   * @param {HTMLElement} element - Parent element containing items\r\n   * @returns {Array} Array of item objects\r\n   */\r\n  static parseItems(element) {\r\n    const items = [];\r\n    const itemElements = element.querySelectorAll('[data-swr-item]');\r\n\r\n    itemElements.forEach((itemEl) => {\r\n      const item = this.parseItemElement(itemEl);\r\n      if (item) items.push(item);\r\n    });\r\n\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Parse a single item element\r\n   * @param {HTMLElement} itemEl - Item element\r\n   * @returns {Object|null} Item object or null if invalid\r\n   */\r\n  static parseItemElement(itemEl) {\r\n    // Check if item contains a video\r\n    const videoEl = itemEl.querySelector('video');\r\n    if (videoEl) {\r\n      return this.parseVideoItem(videoEl);\r\n    }\r\n\r\n    // Check if item contains an image\r\n    const imgEl = itemEl.querySelector('img');\r\n    if (imgEl) {\r\n      return this.parseImageItem(imgEl);\r\n    }\r\n\r\n    // Otherwise treat as HTML content\r\n    return {\r\n      type: 'html',\r\n      content: itemEl.innerHTML,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Parse video element to item object\r\n   * @param {HTMLVideoElement} videoEl - Video element\r\n   * @returns {Object} Video item object\r\n   */\r\n  static parseVideoItem(videoEl) {\r\n    const sources = videoEl.querySelectorAll('source');\r\n    let src = '';\r\n    let type = 'video/mp4';\r\n\r\n    if (sources.length > 0) {\r\n      src = sources[0].getAttribute('src') || '';\r\n      type = sources[0].getAttribute('type') || 'video/mp4';\r\n    } else {\r\n      src = videoEl.getAttribute('src') || '';\r\n    }\r\n\r\n    return {\r\n      type: 'video',\r\n      src,\r\n      mimeType: type,\r\n      autoplay: videoEl.hasAttribute('autoplay'),\r\n      muted: videoEl.hasAttribute('muted'),\r\n      playsinline: videoEl.hasAttribute('playsinline'),\r\n      loop: videoEl.hasAttribute('loop'),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Parse image element to item object\r\n   * @param {HTMLImageElement} imgEl - Image element\r\n   * @returns {Object} Image item object\r\n   */\r\n  static parseImageItem(imgEl) {\r\n    return {\r\n      type: 'image',\r\n      src: imgEl.getAttribute('src') || '',\r\n      alt: imgEl.getAttribute('alt') || '',\r\n      title: imgEl.getAttribute('title') || '',\r\n    };\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = DataAttributeParser;\r\n}\r\n","/**\r\n * HTMLRenderer - Renders HTML content items\r\n */\r\nclass HTMLRenderer {\r\n  /**\r\n   * Render HTML item\r\n   * @param {Object} item - Item object with content property\r\n   * @returns {HTMLElement} Rendered element\r\n   */\r\n  render(item) {\r\n    const container = document.createElement('div');\r\n    container.className = 'swr-html-item';\r\n    container.innerHTML = item.content;\r\n    return container;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = HTMLRenderer;\r\n}\r\n","/**\r\n * ImageRenderer - Renders image items\r\n */\r\nclass ImageRenderer {\r\n  /**\r\n   * Render image item\r\n   * @param {Object} item - Item object with src, alt, title properties\r\n   * @returns {HTMLElement} Rendered element\r\n   */\r\n  render(item) {\r\n    const container = document.createElement('div');\r\n    container.className = 'swr-image-item';\r\n    container.style.width = '100%';\r\n    container.style.height = '100%';\r\n    container.style.overflow = 'hidden';\r\n\r\n    const img = document.createElement('img');\r\n    img.src = item.src;\r\n    img.alt = item.alt || '';\r\n    img.title = item.title || '';\r\n    img.style.width = '100%';\r\n    img.style.height = '100%';\r\n    img.style.objectFit = 'cover';\r\n    img.style.display = 'block';\r\n\r\n    container.appendChild(img);\r\n    return container;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = ImageRenderer;\r\n}\r\n","/**\r\n * VideoRenderer - Renders video items\r\n */\r\nclass VideoRenderer {\r\n  /**\r\n   * Render video item\r\n   * @param {Object} item - Item object with src and video properties\r\n   * @returns {HTMLElement} Rendered element\r\n   */\r\n  render(item) {\r\n    const container = document.createElement('div');\r\n    container.className = 'swr-video-item';\r\n\r\n    const video = document.createElement('video');\r\n    video.width = '100%';\r\n    video.height = '100%';\r\n    video.style.objectFit = 'cover';\r\n\r\n    // Set video attributes\r\n    if (item.autoplay) video.setAttribute('autoplay', 'autoplay');\r\n    if (item.muted) video.setAttribute('muted', 'muted');\r\n    if (item.playsinline) video.setAttribute('playsinline', 'playsinline');\r\n    if (item.loop) video.setAttribute('loop', 'loop');\r\n    if (item.controls !== false) video.setAttribute('controls', 'controls');\r\n\r\n    // Add video source\r\n    const source = document.createElement('source');\r\n    source.src = item.src;\r\n    source.type = item.mimeType || 'video/mp4';\r\n    video.appendChild(source);\r\n\r\n    // Fallback text\r\n    video.appendChild(document.createTextNode('Your browser does not support the video tag.'));\r\n\r\n    container.appendChild(video);\r\n    return container;\r\n  }\r\n}\r\n\r\nif (typeof module !== 'undefined' && module.exports) {\r\n  module.exports = VideoRenderer;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * SenangWebs Roll (SWR) - Main Bundle Entry Point\r\n * This file bundles all components together for distribution\r\n */\r\n\r\n// Import CSS\r\nimport './css/swr.css';\r\n\r\n// Import all modules - webpack will handle the CommonJS conversion\r\nimport ConfigParser from './js/parsers/ConfigParser';\r\nimport DataAttributeParser from './js/parsers/DataAttributeParser';\r\nimport EventManager from './js/core/EventManager';\r\nimport MediaManager from './js/core/MediaManager';\r\nimport Navigation from './js/core/Navigation';\r\nimport Roll from './js/core/Roll';\r\nimport TouchHandler from './js/handlers/TouchHandler';\r\nimport KeyboardHandler from './js/handlers/KeyboardHandler';\r\nimport AutoplayHandler from './js/handlers/AutoplayHandler';\r\nimport WheelHandler from './js/handlers/WheelHandler';\r\nimport HTMLRenderer from './js/renderers/HTMLRenderer';\r\nimport VideoRenderer from './js/renderers/VideoRenderer';\r\nimport ImageRenderer from './js/renderers/ImageRenderer';\r\nimport SWR from './js/index';\r\n\r\n// Make all classes globally available for browser usage\r\nif (typeof window !== 'undefined') {\r\n  window.SWR = SWR;\r\n  window.ConfigParser = ConfigParser;\r\n  window.DataAttributeParser = DataAttributeParser;\r\n  window.EventManager = EventManager;\r\n  window.MediaManager = MediaManager;\r\n  window.Navigation = Navigation;\r\n  window.Roll = Roll;\r\n  window.TouchHandler = TouchHandler;\r\n  window.KeyboardHandler = KeyboardHandler;\r\n  window.AutoplayHandler = AutoplayHandler;\r\n  window.WheelHandler = WheelHandler;\r\n  window.HTMLRenderer = HTMLRenderer;\r\n  window.VideoRenderer = VideoRenderer;\r\n  window.ImageRenderer = ImageRenderer;\r\n\r\n  // Auto-initialize all rolls with data-swr attribute\r\n  // This runs when DOM is ready\r\n  const initDataAttributeRolls = () => {\r\n    const rolls = document.querySelectorAll('[data-swr]:not([data-swr-initialized])');\r\n    rolls.forEach((element) => {\r\n      // Mark as initialized to prevent duplicate initialization\r\n      element.setAttribute('data-swr-initialized', 'true');\r\n      // Initialize the roll\r\n      new SWR(element);\r\n      console.log(' Auto-initialized SWR from data attributes:', element);\r\n    });\r\n  };\r\n\r\n  // Run on DOM ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initDataAttributeRolls);\r\n  } else {\r\n    // DOM is already loaded\r\n    initDataAttributeRolls();\r\n  }\r\n}\r\n\r\n// Export for ES modules and UMD\r\nexport default SWR;\r\n\r\nexport {\r\n  SWR,\r\n  ConfigParser,\r\n  DataAttributeParser,\r\n  EventManager,\r\n  MediaManager,\r\n  Navigation,\r\n  Roll,\r\n  TouchHandler,\r\n  KeyboardHandler,\r\n  AutoplayHandler,\r\n  WheelHandler,\r\n  HTMLRenderer,\r\n  VideoRenderer,\r\n  ImageRenderer,\r\n};\r\n"],"names":["EventManager","_classCallCheck","listeners","_createClass","key","value","on","event","callback","_this","push","off","filter","cb","length","emit","data","forEach","error","console","concat","clearEvent","clear","getListenerCount","module","exports","MediaManager","eventManager","items","addItem","item","index","arguments","undefined","validateItem","warn","splice","indexOf","removeItem","removed","getItem","getItems","_toConsumableArray","getItemCount","updateItem","updates","_objectSpread","_typeof","type","src","content","Navigation","config","currentIndex","totalItems","initialize","next","isWrapping","direction","nextIndex","loop","result","goTo","prev","prevIndex","validIndex","Math","max","min","oldIndex","newIndex","getCurrentIndex","isAtStart","isAtEnd","canGoNext","canGoPrev","Roll","element","container","viewport","itemElements","isAnimating","transitionId","setupDOM","setupStyles","document","createElement","className","existingItems","querySelectorAll","appendChild","cloneNode","innerHTML","classList","add","updateItemElements","style","position","width","aspectRatio","_this$config$aspectRa","split","map","Number","_this$config$aspectRa2","_slicedToArray","height","overflow","top","left","display","flexDirection","transition","transitionDuration","transform","parseAspectRatio","ratio","_ratio$split$map","_ratio$split$map2","Array","from","addItemElement","itemElement","setAttribute","flex","children","insertBefore","renderItem","renderer","render","slideTo","targetIndex","_this2","options","log","previousIndex","handleWrapAnimation","offset","clearTimeout","setTimeout","fromIndex","toIndex","_this3","firstItem","order","snapOffset","offsetHeight","animateOffset","lastItem","finalOffset","destroy","AutoplayHandler","onAutoplayTick","isPlaying","autoplayInterval","resumeTimer","isPaused","play","setInterval","pause","clearInterval","pauseTemporarily","delay","isTemporarilyPaused","autoplayResumeDelay","resume","autoplay","isAutoplayActive","isAutoplayPaused","KeyboardHandler","onKeyPress","isConfigEnabled","enableKeyboard","isHandlerAttached","isHovered","isFocused","boundKeyDown","handleKeyDown","bind","boundMouseEnter","handleMouseEnter","boundMouseLeave","handleMouseLeave","boundFocus","handleFocus","boundBlur","handleBlur","enable","hasAttribute","addEventListener","disable","removeEventListener","preventDefault","MouseDragHandler","onDrag","mouseStartX","mouseStartY","mouseEndX","mouseEndY","isHandlerEnabled","mouseStartTime","isDragging","hasMovedSignificantly","dragStartedInside","boundMouseDown","handleMouseDown","boundMouseMove","handleMouseMove","boundMouseUp","handleMouseUp","enableMouseDrag","passive","button","clientX","clientY","Date","now","cursor","deltaX","abs","deltaY","endX","endY","deltaTime","startX","startY","velocity","minDragDistance","velocityThreshold","dragThreshold","swipeThreshold","isValidDistance","isValidVelocity","threshold","distance","TouchHandler","onSwipe","touchStartX","touchStartY","touchEndX","touchEndY","touchStartTime","boundTouchStart","handleTouchStart","boundTouchMove","handleTouchMove","boundTouchEnd","handleTouchEnd","enableTouch","capture","touches","stopPropagation","changedTouches","isTap","x","y","minSwipeDistance","WheelHandler","onWheel","lastWheelTime","wheelThrottle","boundWheel","handleWheel","enableWheel","isEnabled","ConfigParser","DataAttributeParser","HTMLRenderer","VideoRenderer","ImageRenderer","SWR","selector","querySelector","Error","parse","mediaManager","navigation","roll","touchHandler","keyboardHandler","wheelHandler","mouseDragHandler","autoplayHandler","renderers","html","video","image","isInitialized","isDestroyed","init","dataConfig","parseConfig","dataItems","parseItems","itemCount","renderItems","setupHandlers","handleSwipe","handleKeyPress","handleMouseDrag","handleAutoplayTick","enableAutoplayPauseOnInteraction","getRenderer","navResult","success","actualIndex","getTotalItems","getConfig","_this$eventManager","userConfig","DEFAULT_CONFIG","Object","keys","validate","isValidAspectRatio","match","parseInt","_defineProperty","getAttribute","itemEl","parseItemElement","videoEl","parseVideoItem","imgEl","parseImageItem","sources","mimeType","muted","playsinline","alt","title","img","objectFit","controls","source","createTextNode","window","initDataAttributeRolls","rolls","readyState"],"sourceRoot":""}